# Для чего этот скрипт

Этот скрипт предназначен для создания тестирований для сотрудников внутри Confluence.<br>
Скрипт позволяет:
* Задать несколько вопросов с выпадающими списками для выбора ответов.
* Вести таймер, отсчитывающий время с момента начала теста.
* Проверить ответы сотрудников и отобразить результат.
* Отправить результаты на указанный email.

# Начало работы

* [Структура формы](#структура-формы)
* [Описание работы скрипта](#описание-работы-скрипта)
* [Шаги для использования](#шаги-для-использования)
* [Настройки и изменения](#настройки-и-изменения)



## Структура формы

Форма тестирования включает:
* Вопросы с ответами: Каждый вопрос имеет выпадающий список с несколькими вариантами ответов.
* Таймер: Показывает время, которое прошло с начала тестирования.
* Кнопки:
    * Начать тестирование: Запускает таймер и отображает вопросы.
    * Узнать результат: Показывает количество правильных и неправильных ответов после завершения теста.
    * Отправить результат: Отправляет результаты на указанный email.

 

При нажатии на кнопку «Отправить результат» используется протокол mailto и открывается почтовый клиент установленный по умолчанию:<br>


## Описание работы скрипта
1. Таймер:
    * После начала тестирования начинается отсчёт времени. Время отображается в формате `Часы:Минуты:Секунды`.
2. Проверка ответов:
    * После завершения теста или нажатия кнопки "Узнать результат" скрипт проверит, какие ответы выбраны правильно. Ответы будут выделяться цветами:
        * Зеленый — правильный ответ.
        * Красный — неправильный ответ.
3. Отправка результатов:
    * Когда результат готов, скрипт соберёт информацию о тесте, включая имя пользователя, результаты, время, и отправит эти данные на email, используя стандартный протокол mailto.


## Шаги для использования:
1.	Перейдите на страницу Confluence<br>
2.	Откройте страницу для редактирования.<br>
3.	Добавьте макрос HTML на страницу:<br>
    1. Нажмите "Вставить прочий контент" > "Другие макросы" > "HTML".<br>
     ![image](https://github.com/user-attachments/assets/ccdf7533-8269-4653-995d-396a64db083d)
     ![image](https://github.com/user-attachments/assets/8829a091-cac8-4249-926d-70cbf3096e1d)
     ![image](https://github.com/user-attachments/assets/b8f6b4cb-2fd3-4467-a5fa-6232c7bf7e88)
     ![image](https://github.com/user-attachments/assets/332843ac-55b1-4fb4-8895-24f03c0b55c3)
    2. Вставьте код в поле макроса.<br>
4.	Сохраните изменения.<br>

## Настройки и изменения
* Корректировка правильных ответов:
    * В массиве `correctAnswers` можно изменить правильные ответы для каждого вопроса.<br>
    Например, если правильный ответ на первый вопрос — второй вариант, а на второй — первый, код будет выглядеть так:<br>
    `const correctAnswers = ['2', '1'];`
    * Убедитесь, что каждый вопрос и соответствующий правильный ответ заданы в правильном порядке. Если добавляются новые вопросы, количество правильных ответов в массиве `correctAnswers` должно соответствовать количеству вопросов.
* Изменение списка email-адресов:
    * В строке const `emailHref = ...` можно изменить адреса, на которые будут отправляться результаты.<br>      Например:<br>
    `const emailHref = 'mailto:test@example.com?subject=${examName} ${currentDate}. Тестируемый: ${login}&body=${encodeURIComponent(emailBody)}';`